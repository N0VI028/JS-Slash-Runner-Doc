import{_ as l,C as t,c as n,o as p,j as s,ao as d,a,G as o,w as c}from"./chunks/framework.DuPVQoDA.js";const y=JSON.parse('{"title":"音频播放器功能","description":"","frontmatter":{"order":5},"headers":[],"relativePath":"基本用法/播放器.md","filePath":"基本用法/播放器.md","lastUpdated":1741103015000}'),r={name:"基本用法/播放器.md"};function u(b,e,m,h,v,g){const i=t("VPNolebaseInlineLinkPreview");return p(),n("div",null,[e[3]||(e[3]=s("h1",{id:"音频播放器功能",tabindex:"-1"},[a("音频播放器功能 "),s("a",{class:"header-anchor",href:"#音频播放器功能","aria-label":'Permalink to "音频播放器功能"'},"​")],-1)),s("p",null,[e[1]||(e[1]=a("本功能修改自酒馆官方扩展 ")),o(i,{href:"https://github.com/SillyTavern/Extension-Audio",target:"_blank",rel:"noreferrer"},{default:c(()=>e[0]||(e[0]=[a("Dynamic Audio")])),_:1}),e[2]||(e[2]=a("。"))]),e[4]||(e[4]=d('<h2 id="特性" tabindex="-1">特性 <a class="header-anchor" href="#特性" aria-label="Permalink to &quot;特性&quot;">​</a></h2><ul><li>直接播放网络音频</li><li>全局接管前端界面中的音频播放，解决多楼层音乐会同时播放的冲突问题，以及同一音频在楼层更新时无法接续播放的问题</li><li>可视化地对音频列表中音频的排序，编辑和删除</li><li>增加导入按钮，可以批量输入链接导入到歌单</li><li>四种播放模式：【列表循环、随机播放、单曲循环、播完停止】</li><li>注册了 Quick Reply 命令，不使用脚本注入，只启动播放器也可以使用快速回复听歌了</li></ul><div class="warning custom-block"><p class="custom-block-title">注意</p><p>音乐和音效两个播放器内在逻辑完全一致，因未知原因，在音频长度极短的情况下会出现播放不全的问题，禁止缓存后才可正常播放，因此音效播放器不会对音频文件进行缓存。推荐主要使用音乐播放器，音效播放器仅用于文件较小的音频文件。</p></div><h2 id="播放器-quick-reply-命令" tabindex="-1">播放器 Quick Reply 命令 <a class="header-anchor" href="#播放器-quick-reply-命令" aria-label="Permalink to &quot;播放器 Quick Reply 命令&quot;">​</a></h2><p>音频的链接存储在当前聊天的局部变量中，切换聊天就会清空，切换回来时会再加载。可以使用<code>/listvar</code>查看变量列表，变量名分别为<code>bgmurl</code>和<code>ambienturl</code>，支持使用 Quick Reply 对播放列表做更多自定义的改动。</p><h3 id="播放器控制" tabindex="-1">播放器控制 <a class="header-anchor" href="#播放器控制" aria-label="Permalink to &quot;播放器控制&quot;">​</a></h3><div class="language-plaintext vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">plaintext</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/audioenable [type=bgm|ambient] [state=true|flase]?</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>控制音乐播放器或音效播放器的开启与关闭。</p><ul><li><code>type</code>: 音乐或音效</li><li><code>state</code> (可选): 开启或关闭, 不填写默认为 <code>true</code></li></ul><div class="info custom-block"><p class="custom-block-title">示例</p><div class="language-plaintext vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">plaintext</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/audioenable type=ambient state=false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></div><h3 id="导入音频到播放界面" tabindex="-1">导入音频到播放界面 <a class="header-anchor" href="#导入音频到播放界面" aria-label="Permalink to &quot;导入音频到播放界面&quot;">​</a></h3><div class="language-plaintext vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">plaintext</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/audioimport [type=bgm|ambient] [play=true|flase]? url</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>type</code>: 音乐或音效</li><li><code>play</code> (可选): 是否导入之后立即播放第一个音频, 不填写默认为 <code>true</code></li><li><code>url</code>: 要播放的音频链接，可以批量导入, 多个链接之间用<strong>英文</strong>逗号隔开</li></ul><div class="info custom-block"><p class="custom-block-title">示例</p><div class="language-plaintext vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">plaintext</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/audioimport type=ambient play=false url=https://example.com/sound1.mp3,https://example.com/sound2.mp3</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></div><h3 id="选择音频并播放" tabindex="-1">选择音频并播放 <a class="header-anchor" href="#选择音频并播放" aria-label="Permalink to &quot;选择音频并播放&quot;">​</a></h3><div class="language-plaintext vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">plaintext</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/audioselect [type=bgm|ambient] url</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>type</code>: 音乐或音效</li><li><code>url</code>: 要播放的音频链接，如果在播放列表里不存在则先导入再播放</li></ul><div class="info custom-block"><p class="custom-block-title">示例</p><div class="language-plaintext vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">plaintext</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/audioselect type=bgm https://example.com/song.mp3</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></div><h3 id="播放或暂停" tabindex="-1">播放或暂停 <a class="header-anchor" href="#播放或暂停" aria-label="Permalink to &quot;播放或暂停&quot;">​</a></h3><div class="language-plaintext vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">plaintext</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/audioplay [type=bgm|ambient] [play=true|flase]?</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>type</code>: 音乐或音效</li><li><code>play</code> (可选): 播放或暂停, 不填写默认为 <code>true</code></li></ul><div class="info custom-block"><p class="custom-block-title">示例</p><div class="language-plaintext vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">plaintext</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/audioplay type=ambient play=false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></div><h3 id="模式切换" tabindex="-1">模式切换 <a class="header-anchor" href="#模式切换" aria-label="Permalink to &quot;模式切换&quot;">​</a></h3><div class="language-plaintext vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">plaintext</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/audiomode [type=bgm|ambient] [mode=repeat|random|single|stop]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>type</code>: 音乐或音效</li><li><code>mode</code>: 播放模式, 分别是列表循环、随机播放、单曲循环、播完停止</li></ul><div class="info custom-block"><p class="custom-block-title">示例</p><div class="language-plaintext vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">plaintext</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/audiomode type=ambient mode=random</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></div>',26))])}const x=l(r,[["render",u]]);export{y as __pageData,x as default};
