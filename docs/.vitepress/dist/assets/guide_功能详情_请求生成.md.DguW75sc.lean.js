import{_ as p,C as r,c as d,o as h,j as i,G as n,ao as t,a,w as l}from"./chunks/framework.RuhsIXye.js";const F=JSON.parse('{"title":"请求生成","description":"","frontmatter":{},"headers":[],"relativePath":"guide/功能详情/请求生成.md","filePath":"guide/功能详情/请求生成.md","lastUpdated":1745226929000}'),k={name:"guide/功能详情/请求生成.md"};function u(g,s,c,E,b,m){const o=r("CustomTOC"),e=r("VPNolebaseInlineLinkPreview");return h(),d("div",null,[s[58]||(s[58]=i("h1",{id:"请求生成",tabindex:"-1"},[a("请求生成 "),i("a",{class:"header-anchor",href:"#请求生成","aria-label":'Permalink to "请求生成"'},"​")],-1)),s[59]||(s[59]=i("p",null,"酒馆助手提供了函数用于更加灵活地请求 AI 生成回复，你可以通过它来自定义生成时要采用的提示词配置。",-1)),s[60]||(s[60]=i("div",{class:"warning custom-block"},[i("p",{class:"custom-block-title"},"注意"),i("p",null,[a("目前仅支持聊天补全（"),i("code",null,"Chat Completion"),a("）。")])],-1)),n(o),s[61]||(s[61]=t("",7)),i("ul",null,[s[5]||(s[5]=i("li",null,[i("strong",null,"类型"),a(": "),i("code",null,"boolean")],-1)),i("li",null,[s[1]||(s[1]=i("strong",null,"描述",-1)),s[2]||(s[2]=a(": 是否启用流式传输；默认为 ")),s[3]||(s[3]=i("code",null,"false",-1)),s[4]||(s[4]=a("。启用流式传输后，可以接收到额外的事件，通过参数获得传输过程的完整/增量文本。具体见")),n(e,{href:"./请求生成.html#函数的事件发送"},{default:l(()=>s[0]||(s[0]=[a("函数的事件发送")])),_:1})])]),s[62]||(s[62]=t("",3)),i("ul",null,[s[13]||(s[13]=i("li",null,[i("strong",null,"类型"),a(": "),i("code",null,"Overrides")],-1)),i("li",null,[s[7]||(s[7]=i("strong",null,"描述",-1)),s[8]||(s[8]=a(": 覆盖选项。若设置, 则 ")),s[9]||(s[9]=i("code",null,"overrides",-1)),s[10]||(s[10]=a(" 中给出的字段将会覆盖对应的提示词。如 ")),s[11]||(s[11]=i("code",null,"overrides.char_description = '覆盖的角色描述';",-1)),s[12]||(s[12]=a(" 将会覆盖角色描述。具体见")),n(e,{href:"./请求生成.html#overrides-2"},{default:l(()=>s[6]||(s[6]=[a("Overrides 参数详情")])),_:1})])]),s[63]||(s[63]=i("h4",{id:"injects",tabindex:"-1"},[i("code",null,"injects?"),a(),i("a",{class:"header-anchor",href:"#injects","aria-label":'Permalink to "`injects?`"'},"​")],-1)),i("ul",null,[s[17]||(s[17]=i("li",null,[i("strong",null,"类型"),a(": "),i("code",null,"InjectionPrompt[]")],-1)),i("li",null,[s[15]||(s[15]=i("strong",null,"描述",-1)),s[16]||(s[16]=a(": 要额外注入的提示词，具体见")),n(e,{href:"./请求生成.html#injectionprompt"},{default:l(()=>s[14]||(s[14]=[a("InjectionPrompt 参数详情")])),_:1})])]),s[64]||(s[64]=t("",17)),i("ul",null,[s[25]||(s[25]=i("li",null,[i("strong",null,"类型"),a(": "),i("code",null,"Overrides")],-1)),i("li",null,[s[19]||(s[19]=i("strong",null,"描述",-1)),s[20]||(s[20]=a(": 覆盖选项。若设置, 则 ")),s[21]||(s[21]=i("code",null,"overrides",-1)),s[22]||(s[22]=a(" 中给出的字段将会覆盖对应的提示词。如 ")),s[23]||(s[23]=i("code",null,"overrides.char_description = '覆盖的角色描述';",-1)),s[24]||(s[24]=a(" 将会覆盖角色描述。具体见")),n(e,{href:"./请求生成.html#overrides-2"},{default:l(()=>s[18]||(s[18]=[a("Overrides 参数详情")])),_:1})])]),s[65]||(s[65]=i("h4",{id:"injects-1",tabindex:"-1"},[i("code",null,"injects?"),a(),i("a",{class:"header-anchor",href:"#injects-1","aria-label":'Permalink to "`injects?`"'},"​")],-1)),i("ul",null,[s[29]||(s[29]=i("li",null,[i("strong",null,"类型"),a(": "),i("code",null,"InjectionRawPrompt[]")],-1)),i("li",null,[s[27]||(s[27]=i("strong",null,"描述",-1)),s[28]||(s[28]=a(": 要额外注入的提示词，具体见")),n(e,{href:"./请求生成.html#injectionrawprompt"},{default:l(()=>s[26]||(s[26]=[a("InjectionRawPrompt 参数详情")])),_:1})])]),s[66]||(s[66]=t("",3)),i("ul",null,[s[40]||(s[40]=i("li",null,[i("strong",null,"类型"),a(": "),i("code",null,"(BuiltinPrompt | RolePrompt)[]")],-1)),i("li",null,[s[38]||(s[38]=i("strong",null,"描述",-1)),s[39]||(s[39]=a(": 一个提示词数组，数组元素将会按顺序发给 ai，因而相当于自定义预设。该数组允许存放两种类型： ")),i("ul",null,[i("li",null,[n(e,{href:"./请求生成.html#builtinprompt"},{default:l(()=>s[30]||(s[30]=[i("code",null,"BuiltinPrompt",-1)])),_:1}),s[32]||(s[32]=a(': 内置提示词。由于不使用预设, 如果需要 "角色描述" 等提示词, 你需要自己指定需要使用哪些并给出顺序。如果不想自己指定, 函数会自行使用 ')),s[33]||(s[33]=i("code",null,"builtin_prompt_default_order",-1)),s[34]||(s[34]=a(" 中的酒馆默认预设顺序（但对于这种情况，你也许更应该用 ")),n(e,{href:"./请求生成.html#generate"},{default:l(()=>s[31]||(s[31]=[i("code",null,"generate",-1)])),_:1}),s[35]||(s[35]=a("）。"))]),i("li",null,[n(e,{href:"./请求生成.html#roleprompt"},{default:l(()=>s[36]||(s[36]=[i("code",null,"RolePrompt",-1)])),_:1}),s[37]||(s[37]=a(": 要额外给定的提示词。"))])])])]),s[67]||(s[67]=t("",26)),i("ul",null,[s[48]||(s[48]=i("li",null,[i("strong",null,"类型"),a(": "),i("code",null,"{with_depth_entries?: boolean, author_note?: string; prompts?: RolePrompt[];}")],-1)),i("li",null,[s[46]||(s[46]=i("strong",null,"描述",-1)),s[47]||(s[47]=a(": 聊天历史，其中 ")),i("ul",null,[s[44]||(s[44]=i("li",null,[i("code",null,"with_depth_entries"),a(": 是否启用世界书中按深度插入的条目; 默认为 "),i("code",null,"true")],-1)),s[45]||(s[45]=i("li",null,[i("code",null,"author_note"),a(': 若设置, 覆盖 "作者注释" 为给定的字符串')],-1)),i("li",null,[s[42]||(s[42]=i("code",null,"prompts",-1)),s[43]||(s[43]=a(': 若设置, 覆盖 "聊天历史" 为给定的提示词，详见')),n(e,{href:"./请求生成.html#roleprompt"},{default:l(()=>s[41]||(s[41]=[a("RolePrompt 格式")])),_:1})])])])]),s[68]||(s[68]=t("",33)),i("p",null,[s[50]||(s[50]=a("在")),n(e,{href:"./请求生成.html#generateRaw"},{default:l(()=>s[49]||(s[49]=[i("code",null,"generateRaw",-1)])),_:1}),s[51]||(s[51]=a("中，")),s[52]||(s[52]=i("code",null,"user_input",-1)),s[53]||(s[53]=a("可以自由选择放置的位置了。关于")),s[54]||(s[54]=i("code",null,"user_input",-1)),s[55]||(s[55]=a("和")),s[56]||(s[56]=i("code",null,"chat_history",-1)),s[57]||(s[57]=a("的关系如下："))]),s[69]||(s[69]=t("",4))])}const f=p(k,[["render",u]]);export{F as __pageData,f as default};
