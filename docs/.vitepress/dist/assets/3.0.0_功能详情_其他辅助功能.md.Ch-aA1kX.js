import{_ as p,C as r,c as h,o as d,j as i,G as e,ao as n,a}from"./chunks/framework.RuhsIXye.js";const v=JSON.parse('{"title":"其他辅助功能","description":"","frontmatter":{"order":1},"headers":[],"relativePath":"3.0.0/功能详情/其他辅助功能.md","filePath":"3.0.0/功能详情/其他辅助功能.md","lastUpdated":1744282213000}'),o={name:"3.0.0/功能详情/其他辅助功能.md"},k={id:"getiframename",tabindex:"-1"},g={id:"getmessageid",tabindex:"-1"},u={id:"getcurrentmessageid",tabindex:"-1"};function c(m,s,b,y,E,F){const l=r("CustomTOC"),t=r("Badge");return d(),h("div",null,[s[9]||(s[9]=i("h1",{id:"其他辅助功能",tabindex:"-1"},[a("其他辅助功能 "),i("a",{class:"header-anchor",href:"#其他辅助功能","aria-label":'Permalink to "其他辅助功能"'},"​")],-1)),e(l),i("h2",k,[s[0]||(s[0]=a("getIframeName ")),e(t,{type:"warning",text:"🚫TavernHelper"}),s[1]||(s[1]=a()),s[2]||(s[2]=i("a",{class:"header-anchor",href:"#getiframename","aria-label":'Permalink to "getIframeName <Badge type="warning" text="🚫TavernHelper" />"'},"​",-1))]),s[10]||(s[10]=n('<p>获取 iframe 的名称。</p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getIframeName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="返回值" tabindex="-1">返回值 <a class="header-anchor" href="#返回值" aria-label="Permalink to &quot;返回值&quot;">​</a></h3><ul><li><strong>iframe 名称</strong>: <code>string</code><ul><li>对于楼层消息是 <code>message-iframe-楼层id-是该楼层第几个iframe</code></li><li>对于全局脚本是 <code>script-iframe-脚本名称</code></li></ul></li></ul>',4)),i("h2",g,[s[3]||(s[3]=a("getMessageId ")),e(t,{type:"warning",text:"🚫TavernHelper"}),s[4]||(s[4]=a()),s[5]||(s[5]=i("a",{class:"header-anchor",href:"#getmessageid","aria-label":'Permalink to "getMessageId <Badge type="warning" text="🚫TavernHelper" />"'},"​",-1))]),s[11]||(s[11]=n('<p>从消息楼层 iframe 的 <code>iframe_name</code> 获取它所在楼层的楼层 id。</p><p><strong>只能对楼层消息 iframe</strong> 使用</p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getMessageId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">iframe_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="参数" tabindex="-1">参数 <a class="header-anchor" href="#参数" aria-label="Permalink to &quot;参数&quot;">​</a></h3><h4 id="iframe-name" tabindex="-1"><code>iframe_name</code> <a class="header-anchor" href="#iframe-name" aria-label="Permalink to &quot;`iframe_name`&quot;">​</a></h4><ul><li><strong>类型</strong>: <code>string</code></li><li><strong>描述</strong>: 消息楼层 iframe 的名称</li></ul><h3 id="返回值-1" tabindex="-1">返回值 <a class="header-anchor" href="#返回值-1" aria-label="Permalink to &quot;返回值&quot;">​</a></h3><ul><li><strong>楼层 id</strong>: <code>number</code></li></ul>',8)),i("h2",u,[s[6]||(s[6]=a("getCurrentMessageId ")),e(t,{type:"warning",text:"🚫TavernHelper"}),s[7]||(s[7]=a()),s[8]||(s[8]=i("a",{class:"header-anchor",href:"#getcurrentmessageid","aria-label":'Permalink to "getCurrentMessageId <Badge type="warning" text="🚫TavernHelper" />"'},"​",-1))]),s[12]||(s[12]=n('<p>获取本消息楼层 iframe 所在楼层的楼层 id。</p><p><strong>只能对楼层消息 iframe</strong> 使用</p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getCurrentMessageId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="返回值-2" tabindex="-1">返回值 <a class="header-anchor" href="#返回值-2" aria-label="Permalink to &quot;返回值&quot;">​</a></h3><ul><li><strong>楼层 id</strong>: <code>number</code></li></ul><h2 id="substitudemacros" tabindex="-1">substitudeMacros <a class="header-anchor" href="#substitudemacros" aria-label="Permalink to &quot;substitudeMacros&quot;">​</a></h2><p>替换字符串中的 SillyTavern 宏。</p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> substitudeMacros</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">text</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="参数-1" tabindex="-1">参数 <a class="header-anchor" href="#参数-1" aria-label="Permalink to &quot;参数&quot;">​</a></h3><h4 id="text" tabindex="-1"><code>text</code> <a class="header-anchor" href="#text" aria-label="Permalink to &quot;`text`&quot;">​</a></h4><ul><li><strong>类型</strong>: <code>string</code></li><li><strong>描述</strong>: 需要替换的字符串</li></ul><h3 id="返回值-3" tabindex="-1">返回值 <a class="header-anchor" href="#返回值-3" aria-label="Permalink to &quot;返回值&quot;">​</a></h3><ul><li><strong>替换结果</strong>: <code>string</code></li></ul><h3 id="示例" tabindex="-1">示例 <a class="header-anchor" href="#示例" aria-label="Permalink to &quot;示例&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> text</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> substitudeMacros</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{{char}} speaks in {{lastMessageId}}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">text </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;少女歌剧 speaks in 5&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="getlastmessageid" tabindex="-1">getLastMessageId <a class="header-anchor" href="#getlastmessageid" aria-label="Permalink to &quot;getLastMessageId&quot;">​</a></h2><p>获取最新楼层 id。</p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getLastMessageId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="返回值-4" tabindex="-1">返回值 <a class="header-anchor" href="#返回值-4" aria-label="Permalink to &quot;返回值&quot;">​</a></h3><ul><li><strong>最新楼层 id</strong>: <code>number</code></li></ul>',20))])}const f=p(o,[["render",c]]);export{v as __pageData,f as default};
