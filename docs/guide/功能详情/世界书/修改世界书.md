# 修改世界书

:::tip
请务必先阅读[如何正确使用酒馆助手](/guide/基本用法/如何正确使用酒馆助手.md)
:::

<CustomTOC />

## rebindGlobalWorldbooks

重新绑定全局世界书。

```typescript
function rebindGlobalWorldbooks(worldbook_names: string[]): Promise<void>;
```

### 参数

#### `worldbook_names`

- **类型**: `string[]`
- **描述**: 要全局开启的世界书名称列表

## rebindCharWorldbooks

重新绑定角色卡世界书。

```typescript
function rebindCharWorldbooks(character_name: 'current', char_worldbooks: CharWorldbooks): Promise<void>;
```

### 参数

#### `character_name`

- **类型**: `'current' | string`
- **描述**: 角色卡名称, 'current' 表示当前打开的角色卡

#### `char_worldbooks`

- **类型**: [`CharWorldbooks`](./获取世界书或条目#getcharworldbooks)
- **描述**: 要对该角色卡绑定的世界书



## rebindChatWorldbook

重新绑定聊天文件世界书。

```typescript
function rebindChatWorldbook(chat_name: 'current', worldbook_name: string): Promise<void>;
```

### 参数

#### `chat_name`

- **类型**: `'current' | string`
- **描述**: 聊天文件名称, 'current' 表示当前打开的聊天文件

## replaceWorldbook

完全替换 `worldbook_name` 世界书的内容为 `worldbook`

```typescript
function replaceWorldbook(worldbook_name: string, worldbook: PartialDeep<WorldbookEntry>[]): Promise<void>;
```

### 参数

#### `worldbook_name`

- **类型**: `string`
- **描述**: 世界书名称

#### `worldbook`

- **类型**: [`PartialDeep<WorldbookEntry>[]`](./创建世界书或条目#createworldbook)
- **描述**: 要替换的世界书内容

## updateWorldbookWith

用 `updater` 函数更新世界书 `worldbook_name`

:::code-group

```typescript[updateWorldbookWith]
function updateWorldbookWith(worldbook_name: string, updater: WorldbookUpdater): Promise<WorldbookEntry[]>;
``` 
```typescript[WorldbookUpdater]
type WorldbookUpdater =
  | ((worldbook: WorldbookEntry[]) => PartialDeep<WorldbookEntry>[])
  | ((worldbook: WorldbookEntry[]) => Promise<PartialDeep<WorldbookEntry>[]>);
```
:::

### 参数

#### `worldbook_name`

- **类型**: `string`
- **描述**: 世界书名称  

#### `updater`

- **类型**: [`WorldbookUpdater`](./修改世界书或条目#updateworldbookwith)
- **描述**: 用于更新世界书的函数。它应该接收世界书条目作为参数，并返回更新后的世界书条目。

### 返回值

- **更新后的世界书条目**: [`WorldbookEntry[]`](./创建世界书或条目#createworldbook)


