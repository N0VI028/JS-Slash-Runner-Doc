---
order: 1
---

# å…¶ä»–è¾…åŠ©åŠŸèƒ½

<CustomTOC />

## getIframeName <Badge type="warning" text="ğŸš«TavernHelper" />

è·å– iframe çš„åç§°ã€‚

```typescript
function getIframeName(): string;
```

### è¿”å›å€¼

- **iframe åç§°**: `string`
  - å¯¹äºæ¥¼å±‚æ¶ˆæ¯æ˜¯ `message-iframe-æ¥¼å±‚id-æ˜¯è¯¥æ¥¼å±‚ç¬¬å‡ ä¸ªiframe`
  - å¯¹äºå…¨å±€è„šæœ¬æ˜¯ `script-iframe-è„šæœ¬åç§°`

## getMessageId <Badge type="warning" text="ğŸš«TavernHelper" />

ä»æ¶ˆæ¯æ¥¼å±‚ iframe çš„ `iframe_name` è·å–å®ƒæ‰€åœ¨æ¥¼å±‚çš„æ¥¼å±‚ idã€‚

**åªèƒ½å¯¹æ¥¼å±‚æ¶ˆæ¯ iframe** ä½¿ç”¨

```typescript
function getMessageId(iframe_name: string): number;
```

### å‚æ•°

#### `iframe_name`

- **ç±»å‹**: `string`
- **æè¿°**: æ¶ˆæ¯æ¥¼å±‚ iframe çš„åç§°

### è¿”å›å€¼

- **æ¥¼å±‚ id**: `number`

## getCurrentMessageId <Badge type="warning" text="ğŸš«TavernHelper" />

è·å–æœ¬æ¶ˆæ¯æ¥¼å±‚ iframe æ‰€åœ¨æ¥¼å±‚çš„æ¥¼å±‚ idã€‚

**åªèƒ½å¯¹æ¥¼å±‚æ¶ˆæ¯ iframe** ä½¿ç”¨

```typescript
function getCurrentMessageId(): number;
```

### è¿”å›å€¼

- **æ¥¼å±‚ id**: `number`

## substitudeMacros

æ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„ SillyTavern å®ã€‚

```typescript
async function substitudeMacros(text: string): Promise<string>;
```

### å‚æ•°

#### `text`

- **ç±»å‹**: `string`
- **æè¿°**: éœ€è¦æ›¿æ¢çš„å­—ç¬¦ä¸²

### è¿”å›å€¼

- **æ›¿æ¢ç»“æœ**: `string`

### ç¤ºä¾‹

```typescript
const text = substitudeMacros("{{char}} speaks in {{lastMessageId}}");
text == "å°‘å¥³æ­Œå‰§ speaks in 5";
```

## getLastMessageId

è·å–æœ€æ–°æ¥¼å±‚ idã€‚

```typescript
async function getLastMessageId(): Promise<number>;
```

### è¿”å›å€¼

- **æœ€æ–°æ¥¼å±‚ id**: `number`
