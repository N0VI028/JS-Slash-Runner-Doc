---
order: 1
---

# 播放列表

:::tip
- 请务必先阅读[如何正确使用酒馆助手](/guide/基本用法/如何正确使用酒馆助手.md)
- [点击查看对应类型定义文件](https://github.com/N0VI028/JS-Slash-Runner/blob/main/%40types/function/audio.ts)(可发给 AI 或 IDE 使用, 酒馆助手界面中提供了打包下载)
:::

你可以通过函数控制[音频播放器](/guide/基本用法/音频播放器.md)的播放列表, 即那些待播放的音频.

<CustomTOC />

## getAudioList

获取播放列表

:::code-group

```ts [getAudioList]
function getAudioList(type: 'bgm' | 'ambient'): Audio[];
```

```ts [Audio]
type Audio = {
  /** 标题 */
  title: string;
  /** 音频的网络链接 */
  url: string;
};
```

:::

### 参数

#### `type`

- **类型**: `'bgm' | 'ambient'`
- **描述**: 背景音乐 ('bgm') 或音效 ('ambient')

### 返回值

- **播放列表**: [`Audio[]`](#getaudiolist)

## replaceAudioList

完全替换播放列表为 `audio_list`

:::code-group

```ts [replaceAudioList]
function replaceAudioList(type: 'bgm' | 'ambient', audio_list: AudioWithOptionalTitle[]): void;
```

```ts [AudioWithOptionalTitle]
type AudioWithOptionalTitle = {
  /** 标题 */
  title?: string;
  /** 音频的网络链接 */
  url: string;
};
```

:::

### 参数

#### `type`

- **类型**: `'bgm' | 'ambient'`
- **描述**: 背景音乐 ('bgm') 或音效 ('ambient')

#### `audio_list`

- **类型**: `AudioWithOptionalTitle[]`
- **描述**: 新的播放列表; 如果其中音频没有设置标题 (`title`), 则会从链接 (`url`) 提取文件名作为标题

## appendAudioList

向播放列表末尾添加不存在的音频, 不会重复添加同 `title` 或 `url` 的音频.

:::code-group

```ts [appendAudioList]
function appendAudioList(type: 'bgm' | 'ambient', audio_list: AudioWithOptionalTitle[]): void;
```

:::

### 参数

#### `type`

- **类型**: `'bgm' | 'ambient'`
- **描述**: 背景音乐 ('bgm') 或音效 ('ambient')

#### `audio_list`

- **类型**: `AudioWithOptionalTitle[]`
- **描述**: 要插入的音频列表; 如果其中音频没有设置标题 (`title`), 则会从链接 (`url`) 提取文件名作为标题
