---
order: 2
---

# 创建角色卡

:::tip
请务必先阅读[如何正确使用酒馆助手](/guide/基本用法/如何正确使用酒馆助手.md)
:::

[点击查看对应类型定义文件 (可发给 AI 或 IDE 使用, 酒馆助手界面中提供了打包下载)](https://github.com/N0VI028/JS-Slash-Runner/blob/main/%40types/function/character.d.ts)

<CustomTOC />

## createCharacter

新建 `character_name` 角色卡, 内容为 `character`

::: code-group

```ts [createCharacter]
function createCharacter(character_name: Exclude<string, 'current'>, character?: PartialDeep<Character>): Promise<boolean>;
```

:::

### 参数

#### character_name

- **类型**: `string`
- **描述**: 角色卡名称

#### character

- **类型**: [`PartialDeep<Character>`](./获取角色卡.md#getcharacter)
- **描述**: 角色卡内容; 不填则使用默认内容

### 返回值

- **是否成功创建, 如果已经存在同名角色卡或尝试创建名为 `'current'` 的角色卡会失败**: `boolean`

### 异常

- 如果访问后端失败, 将会抛出异常

## createOrReplaceCharacter

创建或替换名为 `character_name` 的角色卡, 内容为 `character`

```ts
function createOrReplaceCharacter(
  character_name: LiteralUnion<'current', string>,
  character?: PartialDeep<Character>,
  { render }?: ReplaceCharacterOptions,
): Promise<boolean>;
```

### 参数

#### character_name

- **类型**: `string`
- **描述**: 角色卡名称

#### character

- **类型**: [`PartialDeep<Character>`](./获取角色卡.md#getcharacter)
- **描述**: 角色卡内容; 不填则使用默认内容

#### `option?`

一个可选的配置对象, 包含以下属性:

- **`render`**: `debounced|immediate|none`
  - 酒馆网页应该防抖渲染 (debounced)、立即渲染 (immediate) 还是不刷新前端显示 (none)? 默认为性能更好的防抖渲染

### 返回值

- **是否成功创建或替换, 如果发生创建, 则返回 `true`; 如果发生替换, 则返回 `false`**: `boolean`

### 异常

- 如果访问后端失败, 将会抛出异常
