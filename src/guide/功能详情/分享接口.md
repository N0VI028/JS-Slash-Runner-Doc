# 分享接口

:::tip
请务必先阅读[如何正确使用酒馆助手](/guide/基本用法/如何正确使用酒馆助手.md)
:::

假设你使用酒馆助手编写了一个脚本, 里面实现了变量框架、流式框架之类的功能. 显然, 你会想让其他人能在自己的前端界面或脚本中调用你脚本中的某些函数、变量等, 从而能更好地使用你的框架.

酒馆助手为此提供了分享接口功能.

[点击查看对应类型定义文件 (可发给 AI 或 IDE 使用, 酒馆助手界面中提供了打包下载)](https://github.com/N0VI028/JS-Slash-Runner/blob/main/%40types/function/global.d.ts)

<CustomTOC />

## initializeGlobal

将接口共享到全局, 使其可以在其他前端界面或脚本中使用.

其他前端界面或脚本将能通过 `await waitGlobalInitialized(global)` 来等待初始化完毕, 从而用 `global` 为变量名访问该接口.

:::code-group

```ts [initializeGlobal]
function initializeGlobal(global: string, value: any): void;
```

:::

### 参数

#### `global`

- **类型**: `string`
- **描述**: 要共享的接口名称

#### `value`

- **类型**: `any`
- **描述**: 要共享的接口内容

### 示例

:::code-group

```ts [共享 Mvu 到全局]
initializeGlobal('Mvu', Mvu);
// ...此后其他前端界面或脚本中可以通过 `await waitGlobalInitialized('Mvu')` 来等待初始化完毕, 从而用 `Mvu` 为变量名访问该接口
```

:::

## waitGlobalInitialized

等待其他前端界面或脚本中共享出来的全局接口初始化完毕, 并使之在当前前端界面或脚本中可用.

这需要前端界面或脚本通过 `initializeGlobal(global, value)` 来共享接口.

:::code-group

```ts [waitGlobalInitialized]
function waitGlobalInitialized<T>(global: string): Promise<T>;
```

### 参数

#### `global`

- **类型**: `string`
- **描述**: 要等待的接口名称

### 返回值

- **接口内容**: `T`

### 示例

:::code-group

```ts [等待 Mvu 初始化完毕]
await waitGlobalInitialized('Mvu');
// ...此后可以直接使用 Mvu 接口
```

:::
