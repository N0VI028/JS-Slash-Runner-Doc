---
order: 3
---

# 提示词查看器

提示词查看器允许你了解 AI 实际会收到什么提示词——就像你在酒馆后台看到的那样——便于预设与角色卡创作等的调试. 最初灵感来自酒馆官方扩展 [Prompt Inspector](https://github.com/SillyTavern/Extension-PromptInspector).

![提示词查看器](/提示词查看器.png)

## 界面易用性

- 你可以将提示词查看器窗口拖动到最左边或最右边, 从而让窗口吸附在酒馆界面边缘.
- 你通过拖动窗口边缘来修改窗口大小.

## 快捷入口

你可以在酒馆输入框左侧魔棒图标内找到它的快捷入口.

![提示词查看器快捷入口](/提示词查看器快捷入口.png)

## 始终显示最新提示词

### 打开提示词查看器时

在打开提示词查看器时, 查看器将会发送一条虚假的生成请求, 相当于你在此时点击了输入框发送按钮
<i class="fa-solid fa-paper-plane"></i>. 然后, 查看器将会等待酒馆处理完毕, 拦截下这段提示词 (不真的发给 AI), 从而获得最
新提示词发送情况.

### 点击刷新按钮<i class="fa-solid fa-rotate-right"></i> 时

每次点击刷新按钮时, 查看器也会像被打开时那样发送一条虚假的生成请求.

### 实际发生生成请求时

无论你是:

- 直接点击输入框发送按钮 <i class="fa-solid fa-paper-plane"></i>
- 使用酒馆助手 `generate`、`generateRaw` 函数
- 其他任何以酒馆方式发送提示词

查看器都会监听到生成请求, 获得它的提示词发送情况.

## 显示真正的提示词情况

相比于在预设面板所查看到的提示词还没经过酒馆某些处理, 提示词查看器所显示出的提示词已经经过了酒馆几乎所有处理:

- 世界书绿灯条目的激活
- 预设的 "压缩系统消息" 功能
- 提示词模板
- 酒馆、酒馆助手宏
- 其他修改提示词发送的脚本、插件
- ...

<!-- TODO: 实现可选的 "提示词后处理" -->
<!-- 由于 API 配置 (插头) 处 "提示词后处理" 对提示词有大幅调整, 提示词查看器将其作为了可选项, 需要查看 "提示词后处理" 后结果请自行勾选. -->

:::warning 
提示词查看器所显示出的提示词唯一没经过的处理是 "提示词后处理", 因为酒馆将其放在了难以拦截的后端, 且该处理对提示词的变化过大反而不利于查看. 
:::

## 支持搜索

### 普通搜索

![提示词查看器-普通搜索](/提示词查看器_普通搜索.png)

### 正则表达式

![提示词查看器-正则表达式搜索](/提示词查看器_正则表达式搜索.png)

### 仅显示匹配部分

![提示词查看器-仅显示匹配](/提示词查看器_仅显示匹配.png)

## 支持筛选

![提示词查看器-筛选](/提示词查看器_筛选.png)
